{"version":3,"file":"SettingsScreen-Cb8zJH19.js","sources":["../../src/components/screen/SettingCard.jsx","../../src/screens/SettingsScreen.jsx"],"sourcesContent":["import React from 'react';\nimport { motion } from 'framer-motion';\nimport { Card } from '../Card';\nimport { cn } from '../../utils';\n\n/**\n * SettingCard Component\n * Card for displaying setting options with title and description\n */\nexport const SettingCard = ({\n  title,\n  description,\n  selected = false,\n  onClick,\n  className = '',\n  ...props\n}) => {\n  return (\n    <motion.button\n      onClick={onClick}\n      className={cn(\n        'w-full p-4 rounded-xl border-2 transition-all duration-300 text-left shadow-sm',\n        selected\n          ? 'border-primary-600 bg-gradient-to-br from-primary-50 to-primary-100 shadow-md shadow-primary-200/50'\n          : 'border-gray-300 bg-white hover:border-primary-400 hover:bg-primary-50/30 hover:shadow-md',\n        className\n      )}\n      whileHover={{ scale: 1.02 }}\n      whileTap={{ scale: 0.98 }}\n      {...props}\n    >\n      <div className={cn(\n        'font-semibold',\n        selected ? 'text-primary-700' : 'text-gray-800'\n      )}>\n        {title}\n      </div>\n      {description && (\n        <div className={cn(\n          'text-sm mt-1',\n          selected ? 'text-primary-600' : 'text-gray-600'\n        )}>\n          {description}\n        </div>\n      )}\n    </motion.button>\n  );\n};\n\n","import React, { useState, useEffect } from 'react';\nimport { Button } from '../components/Button';\nimport { Card } from '../components/Card';\nimport { useFlowStore } from '../store/flowStore';\nimport { useQuizStore } from '../store/quizStore';\nimport { soundService } from '../services/soundService';\nimport { ScreenContainer, Header, SettingCard, OptionButton } from '../components/screen';\n\n/**\n * SettingsScreen Component\n * M√†n h√¨nh c√†i ƒë·∫∑t chung\n */\nexport const SettingsScreen = () => {\n  const { goToNext, goBack, getPreviousScreenId } = useFlowStore();\n  const { quizSettings, setQuizSettings } = useQuizStore();\n  const [scoringMode, setScoringMode] = useState(quizSettings?.scoringMode || 'basic');\n  const [timeLimit, setTimeLimit] = useState(quizSettings?.timeLimit || 30);\n  const [autoNext, setAutoNext] = useState(\n    typeof quizSettings?.autoNext === 'boolean' ? quizSettings.autoNext : true\n  );\n  const previousScreenId = getPreviousScreenId();\n\n  useEffect(() => {\n    // Load current settings\n    if (quizSettings) {\n      setScoringMode(quizSettings.scoringMode || 'basic');\n      setTimeLimit(quizSettings.timeLimit || 30);\n      setAutoNext(typeof quizSettings.autoNext === 'boolean' ? quizSettings.autoNext : true);\n    }\n  }, [quizSettings]);\n\n  const handleSave = () => {\n    soundService.playClick();\n    setQuizSettings({\n      scoringMode,\n      timeLimit,\n      autoNext,\n    });\n    alert('ƒê√£ l∆∞u c√†i ƒë·∫∑t!');\n    // Quay v·ªÅ m√†n h√¨nh tr∆∞·ªõc ƒë√≥ n·∫øu c√≥, n·∫øu kh√¥ng th√¨ v·ªÅ home\n    if (previousScreenId) {\n      goToNext(previousScreenId);\n    } else {\n      goToNext('home');\n    }\n  };\n\n  const handleBack = () => {\n    soundService.playClick();\n    // Quay v·ªÅ m√†n h√¨nh tr∆∞·ªõc ƒë√≥ n·∫øu c√≥, n·∫øu kh√¥ng th√¨ v·ªÅ home\n    if (previousScreenId) {\n      goBack();\n    } else {\n      goToNext('home');\n    }\n  };\n\n  return (\n    <ScreenContainer maxWidth=\"2xl\">\n      <Header\n        title=\"‚öôÔ∏è C√†i ƒë·∫∑t\"\n        titleClassName=\"text-4xl\"\n        showBackButton={true}\n        onBack={handleBack}\n      />\n\n      <Card>\n        <div className=\"space-y-6\">\n          <div>\n            <label className=\"block text-lg font-semibold text-gray-700 mb-3\">\n              Ch·∫ø ƒë·ªô t√≠nh ƒëi·ªÉm:\n            </label>\n            <div className=\"space-y-2\">\n              <SettingCard\n                title=\"C∆° b·∫£n\"\n                description=\"M·ªói c√¢u ƒë√∫ng = 1 ƒëi·ªÉm, t·ªïng quy v·ªÅ 100\"\n                selected={scoringMode === 'basic'}\n                onClick={() => setScoringMode('basic')}\n              />\n              <SettingCard\n                title=\"Theo th·ªùi gian\"\n                description=\"Tr·∫£ l·ªùi nhanh s·∫Ω ƒë∆∞·ª£c th√™m ƒëi·ªÉm\"\n                selected={scoringMode === 'time'}\n                onClick={() => setScoringMode('time')}\n              />\n            </div>\n          </div>\n\n          <div>\n            <label className=\"block text-lg font-semibold text-gray-700 mb-3\">\n              Th·ªùi gian m·ªói c√¢u (gi√¢y):\n            </label>\n            <div className=\"flex gap-2 mb-3\">\n              {[15, 30, 60, 0].map((time) => (\n                <OptionButton\n                  key={time}\n                  onClick={() => setTimeLimit(time)}\n                  selected={timeLimit === time}\n                  className=\"flex-1 p-3\"\n                >\n                  {time === 0 ? 'Kh√¥ng gi·ªõi h·∫°n' : `${time}s`}\n                </OptionButton>\n              ))}\n            </div>\n\n            {/* Nh·∫≠p m·ªëc th·ªùi gian tu·ª≥ √Ω */}\n            <div className=\"mt-2\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Ho·∫∑c nh·∫≠p s·ªë gi√¢y tu·ª≥ √Ω:\n              </label>\n              <div className=\"flex items-center gap-2\">\n                <input\n                  type=\"number\"\n                  min={0}\n                  max={600}\n                  step={5}\n                  value={timeLimit}\n                  onChange={(e) => {\n                    const value = e.target.value;\n                    const numeric =\n                      value === '' ? 0 : Math.max(0, parseInt(value, 10) || 0);\n                    setTimeLimit(numeric);\n                  }}\n                  className=\"w-28 rounded-lg border border-gray-300 px-3 py-1.5 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500\"\n                />\n                <span className=\"text-sm text-gray-600\">\n                  gi√¢y (0 = kh√¥ng gi·ªõi h·∫°n, t·ªëi ƒëa 600)\n                </span>\n              </div>\n            </div>\n          </div>\n\n          {/* Auto-next toggle */}\n          <div>\n            <label className=\"block text-lg font-semibold text-gray-700 mb-2\">\n              Chuy·ªÉn c√¢u t·ª± ƒë·ªông:\n            </label>\n            <div className=\"flex items-center gap-3\">\n              <button\n                type=\"button\"\n                onClick={() => setAutoNext(!autoNext)}\n                className={`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${\n                  autoNext ? 'bg-primary-500' : 'bg-gray-300'\n                }`}\n              >\n                <span\n                  className={`inline-block h-4 w-4 transform rounded-full bg-white shadow transition-transform ${\n                    autoNext ? 'translate-x-5' : 'translate-x-1'\n                  }`}\n                />\n              </button>\n              <span className=\"text-sm text-gray-600\">\n                {autoNext\n                  ? 'T·ª± ƒë·ªông chuy·ªÉn sang c√¢u ti·∫øp theo sau khi hi·ªÉn th·ªã ƒë√°p √°n'\n                  : 'ƒê·ª£i b·∫°n b·∫•m n√∫t \"C√¢u ti·∫øp theo\" ƒë·ªÉ chuy·ªÉn c√¢u'}\n              </span>\n            </div>\n          </div>\n\n          <div className=\"flex gap-4 pt-4\">\n            <Button\n              onClick={handleSave}\n              variant=\"primary\"\n              size=\"lg\"\n              className=\"flex-1\"\n            >\n              üíæ L∆∞u c√†i ƒë·∫∑t\n            </Button>\n            <Button\n              onClick={handleBack}\n              variant=\"outline\"\n              size=\"lg\"\n              className=\"flex-1\"\n            >\n              ‚Üê Quay l·∫°i\n            </Button>\n          </div>\n        </div>\n      </Card>\n\n      {/* N√∫t Back ·ªü footer */}\n      <div className=\"mt-8 text-center\">\n        <Button\n          onClick={handleBack}\n          variant=\"outline\"\n          size=\"md\"\n        >\n          ‚Üê Quay l·∫°i\n        </Button>\n      </div>\n    </ScreenContainer>\n  );\n};\n\n"],"names":["SettingCard","title","description","selected","onClick","className","props","jsxs","motion","cn","jsx","SettingsScreen","goToNext","goBack","getPreviousScreenId","useFlowStore","quizSettings","setQuizSettings","useQuizStore","scoringMode","setScoringMode","useState","timeLimit","setTimeLimit","autoNext","setAutoNext","previousScreenId","useEffect","handleSave","soundService","handleBack","ScreenContainer","Header","Card","time","OptionButton","e","value","numeric","Button"],"mappings":"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"}