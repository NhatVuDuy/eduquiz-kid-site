{"version":3,"file":"QuestionCountScreen-BACXtMgL.js","sources":["../../src/screens/QuestionCountScreen.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { motion } from 'framer-motion';\nimport { Button } from '../components/Button';\nimport { Card } from '../components/Card';\nimport { useFlowStore } from '../store/flowStore';\nimport { useQuizStore } from '../store/quizStore';\nimport { soundService } from '../services/soundService';\nimport { ScreenContainer, Header, OptionButton } from '../components/screen';\n\n/**\n * QuestionCountScreen Component\n * Màn hình chọn số lượng câu hỏi\n */\nexport const QuestionCountScreen = () => {\n  const { goToNext } = useFlowStore();\n  const { currentLesson, setQuestionCount } = useQuizStore();\n  const [selectedCount, setSelectedCount] = useState(10);\n  \n  // Nếu chưa có lesson, quay lại chọn môn\n  if (!currentLesson || !currentLesson.questions || currentLesson.questions.length === 0) {\n    return (\n      <ScreenContainer className=\"flex items-center justify-center\">\n        <div className=\"text-center\">\n          <p className=\"text-xl text-gray-600 mb-4\">Chưa chọn môn học!</p>\n          <Button onClick={() => goToNext('lessonSelect')} variant=\"primary\">\n            Quay lại chọn môn\n          </Button>\n        </div>\n      </ScreenContainer>\n    );\n  }\n  \n  const maxQuestions = currentLesson.questions.length;\n  const baseCounts = [5, 10, 20, 30, 50].filter(count => count <= maxQuestions);\n  const questionCounts = maxQuestions > 50 && !baseCounts.includes(maxQuestions)\n    ? [...baseCounts, maxQuestions]\n    : baseCounts;\n\n  const handleContinue = () => {\n    soundService.playClick();\n    setQuestionCount(selectedCount);\n    goToNext('quizSettings');\n  };\n\n  return (\n    <ScreenContainer maxWidth=\"2xl\">\n      <Header\n        title=\"Chọn số lượng câu hỏi\"\n        titleClassName=\"text-4xl\"\n        showBackButton={true}\n        onBack={() => goToNext('quizList')}\n      />\n      \n      <motion.p\n        className=\"text-center text-gray-600 mb-8\"\n        initial={{ opacity: 0 }}\n        animate={{ opacity: 1 }}\n        transition={{ delay: 0.2 }}\n      >\n        Môn: <span className=\"font-semibold\">{currentLesson?.name}</span> ({maxQuestions} câu có sẵn)\n      </motion.p>\n\n      <Card>\n        <div className=\"space-y-6\">\n          <div>\n            <label className=\"block text-lg font-semibold text-gray-700 mb-4\">\n              Số lượng câu hỏi:\n            </label>\n            <div className=\"grid grid-cols-2 md:grid-cols-3 gap-3\">\n              {questionCounts.map((count) => (\n                <OptionButton\n                  key={count}\n                  onClick={() => setSelectedCount(count)}\n                  selected={selectedCount === count}\n                >\n                  {count} câu\n                </OptionButton>\n              ))}\n            </div>\n          </div>\n\n          <div className=\"flex gap-4 pt-4\">\n            <Button\n              onClick={handleContinue}\n              variant=\"primary\"\n              size=\"lg\"\n              className=\"flex-1\"\n            >\n              Tiếp tục →\n            </Button>\n            <Button\n              onClick={() => goToNext('lessonSelect')}\n              variant=\"outline\"\n              size=\"lg\"\n              className=\"flex-1\"\n            >\n              ← Quay lại\n            </Button>\n          </div>\n        </div>\n      </Card>\n\n      {/* Nút Back ở footer */}\n      <div className=\"mt-8 text-center\">\n        <Button\n          onClick={() => goToNext('quizList')}\n          variant=\"outline\"\n          size=\"md\"\n        >\n          ← Quay lại\n        </Button>\n      </div>\n    </ScreenContainer>\n  );\n};\n\n"],"names":["QuestionCountScreen","goToNext","useFlowStore","currentLesson","setQuestionCount","useQuizStore","selectedCount","setSelectedCount","useState","ScreenContainer","jsxs","jsx","Button","maxQuestions","baseCounts","count","questionCounts","handleContinue","soundService","Header","motion","Card","OptionButton"],"mappings":"+aAaO,MAAMA,EAAsB,IAAM,CACvC,KAAM,CAAE,SAAAC,CAAA,EAAaC,EAAA,EACf,CAAE,cAAAC,EAAe,iBAAAC,CAAA,EAAqBC,EAAA,EACtC,CAACC,EAAeC,CAAgB,EAAIC,EAAAA,SAAS,EAAE,EAGrD,GAAI,CAACL,GAAiB,CAACA,EAAc,WAAaA,EAAc,UAAU,SAAW,EACnF,aACGM,EAAA,CAAgB,UAAU,mCACzB,SAAAC,EAAAA,KAAC,MAAA,CAAI,UAAU,cACb,SAAA,CAAAC,EAAAA,IAAC,IAAA,CAAE,UAAU,6BAA6B,SAAA,qBAAkB,EAC5DA,EAAAA,IAACC,GAAO,QAAS,IAAMX,EAAS,cAAc,EAAG,QAAQ,UAAU,SAAA,mBAAA,CAEnE,CAAA,CAAA,CACF,CAAA,CACF,EAIJ,MAAMY,EAAeV,EAAc,UAAU,OACvCW,EAAa,CAAC,EAAG,GAAI,GAAI,GAAI,EAAE,EAAE,OAAOC,GAASA,GAASF,CAAY,EACtEG,EAAiBH,EAAe,IAAM,CAACC,EAAW,SAASD,CAAY,EACzE,CAAC,GAAGC,EAAYD,CAAY,EAC5BC,EAEEG,EAAiB,IAAM,CAC3BC,EAAa,UAAA,EACbd,EAAiBE,CAAa,EAC9BL,EAAS,cAAc,CACzB,EAEA,OACES,EAAAA,KAACD,EAAA,CAAgB,SAAS,MACxB,SAAA,CAAAE,EAAAA,IAACQ,EAAA,CACC,MAAM,wBACN,eAAe,WACf,eAAgB,GAChB,OAAQ,IAAMlB,EAAS,UAAU,CAAA,CAAA,EAGnCS,EAAAA,KAACU,EAAO,EAAP,CACC,UAAU,iCACV,QAAS,CAAE,QAAS,CAAA,EACpB,QAAS,CAAE,QAAS,CAAA,EACpB,WAAY,CAAE,MAAO,EAAA,EACtB,SAAA,CAAA,QACMT,EAAAA,IAAC,OAAA,CAAK,UAAU,gBAAiB,YAAe,KAAK,EAAO,KAAGE,EAAa,cAAA,CAAA,CAAA,EAGnFF,MAACU,EAAA,CACC,SAAAX,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAAC,QAAA,CAAM,UAAU,iDAAiD,SAAA,oBAElE,QACC,MAAA,CAAI,UAAU,wCACZ,SAAAK,EAAe,IAAKD,GACnBL,EAAAA,KAACY,EAAA,CAEC,QAAS,IAAMf,EAAiBQ,CAAK,EACrC,SAAUT,IAAkBS,EAE3B,SAAA,CAAAA,EAAM,MAAA,CAAA,EAJFA,CAAA,CAMR,CAAA,CACH,CAAA,EACF,EAEAL,EAAAA,KAAC,MAAA,CAAI,UAAU,kBACb,SAAA,CAAAC,EAAAA,IAACC,EAAA,CACC,QAASK,EACT,QAAQ,UACR,KAAK,KACL,UAAU,SACX,SAAA,YAAA,CAAA,EAGDN,EAAAA,IAACC,EAAA,CACC,QAAS,IAAMX,EAAS,cAAc,EACtC,QAAQ,UACR,KAAK,KACL,UAAU,SACX,SAAA,YAAA,CAAA,CAED,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CACF,EAGAU,EAAAA,IAAC,MAAA,CAAI,UAAU,mBACb,SAAAA,EAAAA,IAACC,EAAA,CACC,QAAS,IAAMX,EAAS,UAAU,EAClC,QAAQ,UACR,KAAK,KACN,SAAA,YAAA,CAAA,CAED,CACF,CAAA,EACF,CAEJ"}