import{u as j,j as e,s as C}from"./index--ILSzZaw.js";import{r as c}from"./animation-vendor-B6fZrcjP.js";import{u as v}from"./levelStore-XI9ZHSFN.js";import{u as y}from"./playerStore-r_j1nxA9.js";import{QUIZ_TYPES as N,QUIZ_TYPE_METADATA as T}from"./level-DpoHUSSg.js";import{c as k,f as n,a as z}from"./numberFormat-tpWeNAYq.js";import{H as E}from"./Header-DyyfoM7s.js";import{S as d}from"./ScreenContainer-21a-fcYA.js";import{S as Q}from"./SubjectCard-D_FbafxL.js";import{B as m}from"./BackButton-BDaTWkU4.js";import"./react-vendor-labSKdyf.js";import"./ui-vendor-B8QmJS74.js";import"./Button-Bl6cuHxx.js";import"./Card-BK5bYxKM.js";const Z=()=>{const{goToNext:o}=j(),{currentLevel:a,currentSubject:r,setCurrentQuizType:p}=v(),{currentPlayer:w}=y(),[x,f]=c.useState({}),[i,u]=c.useState(!0),b=Object.values(N).map(t=>({...T[t],id:t}));c.useEffect(()=>{a&&r&&S(a.id,r.id)},[a,r]);const S=async(t,l)=>{try{u(!0);const s=await k(t,l);f(s||{})}catch(s){console.error("Error loading quiz type stats:",s)}finally{u(!1)}},g=t=>{C.playClick(),p(t.id),o("quizList")};return!a||!r?e.jsx(d,{className:"flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Chưa chọn cấp độ hoặc môn học!"}),e.jsx(m,{onClick:()=>o("subjectSelect")})]})}):e.jsxs(d,{children:[e.jsx(m,{inline:!0,variant:"ghost",label:"← Quay lại",onClick:()=>o("subjectSelect"),className:"mb-2"}),e.jsx(E,{title:"Chọn loại bài test",subtitle:`${a.name} - ${r.name}`,titleClassName:"text-4xl"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:b.map((t,l)=>{const s=x[t.id]||{},h=[{label:"Bài test",value:i?"…":n(s.quizCount)},{label:"Lượt làm",value:i?"…":n(s.totalUsage)},{label:"Người học",value:i?"…":n(s.playerCount)},{label:"Đánh giá",value:i?"…":z(s.averageRating)}];return e.jsx(Q,{icon:t.icon,title:t.name,description:t.description,onClick:()=>g(t),delay:l*.1,className:`bg-gradient-to-br ${t.color} text-white border-0`,stats:h,statsVariant:"dark",titleClassName:"text-2xl font-bold text-white mb-2",descriptionClassName:"text-white/80",iconClassName:"text-6xl mb-4 transform group-hover:scale-110 transition-transform duration-300 drop-shadow-lg"},t.id)})}),e.jsx("div",{className:"mt-8 text-center",children:e.jsx(m,{onClick:()=>o("subjectSelect"),label:"← Quay lại"})})]})};export{Z as QuizTypeSelectScreen};
//# sourceMappingURL=QuizTypeSelectScreen-Df9Oabs9.js.map
