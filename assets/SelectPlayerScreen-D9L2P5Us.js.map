{"version":3,"file":"SelectPlayerScreen-D9L2P5Us.js","sources":["../../src/components/screen/PlayerCard.jsx","../../src/screens/SelectPlayerScreen.jsx"],"sourcesContent":["import React from 'react';\nimport { motion } from 'framer-motion';\nimport { Card } from '../Card';\nimport { cn } from '../../utils';\n\n/**\n * PlayerCard Component\n * Card for displaying player selection\n */\nexport const PlayerCard = ({\n  avatar,\n  name,\n  onClick,\n  delay = 0,\n  className = '',\n  ...props\n}) => {\n  return (\n    <motion.div\n      initial={{ opacity: 0, x: -20 }}\n      animate={{ opacity: 1, x: 0 }}\n      transition={{ delay }}\n      {...props}\n    >\n      <Card\n        onClick={onClick}\n        className={cn('text-center cursor-pointer group relative overflow-hidden', className)}\n      >\n        {/* Hover gradient effect */}\n        <div className=\"absolute inset-0 bg-gradient-to-br from-primary-500/0 to-secondary-500/0 group-hover:from-primary-500/10 group-hover:to-secondary-500/10 transition-all duration-300\" />\n        \n        <div className=\"relative z-10\">\n          {avatar && (\n            <motion.div\n              className=\"text-6xl mb-4 transform group-hover:scale-110 transition-transform duration-300\"\n              whileHover={{ rotate: 360 }}\n              transition={{ duration: 0.6 }}\n            >\n              {avatar}\n            </motion.div>\n          )}\n          {name && (\n            <h3 className=\"text-xl font-semibold text-gray-800 group-hover:text-primary-600 transition-colors duration-300\">\n              {name}\n            </h3>\n          )}\n        </div>\n      </Card>\n    </motion.div>\n  );\n};\n\n","import React, { useState, useEffect } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { Button } from '../components/Button';\nimport { Input } from '../components/Input';\nimport { Card } from '../components/Card';\nimport { useFlowStore } from '../store/flowStore';\nimport { usePlayerStore } from '../store/playerStore';\nimport { getAllPlayers, savePlayer } from '../services/storageService';\nimport { soundService } from '../services/soundService';\nimport { ScreenContainer, Header, PlayerCard } from '../components/screen';\n\n/**\n * SelectPlayerScreen Component\n * M√†n h√¨nh ch·ªçn ho·∫∑c t·∫°o player\n */\nexport const SelectPlayerScreen = () => {\n  const { goToNext } = useFlowStore();\n  const { setCurrentPlayer } = usePlayerStore();\n  const [players, setPlayers] = useState([]);\n  const [showCreateForm, setShowCreateForm] = useState(false);\n  const [newPlayerName, setNewPlayerName] = useState('');\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    loadPlayers();\n  }, []);\n\n  const loadPlayers = async () => {\n    try {\n      const allPlayers = await getAllPlayers();\n      setPlayers(allPlayers);\n    } catch (error) {\n      console.error('Error loading players:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSelectPlayer = (player) => {\n    soundService.playClick();\n    setCurrentPlayer(player);\n    goToNext('home');\n  };\n\n  const handleCreatePlayer = async () => {\n    if (!newPlayerName.trim()) return;\n\n    soundService.playClick();\n    const newPlayer = {\n      id: `player_${Date.now()}`,\n      name: newPlayerName.trim(),\n      avatar: 'üë§',\n      createdAt: Date.now(),\n    };\n\n    try {\n      await savePlayer(newPlayer);\n      setPlayers([...players, newPlayer]);\n      setNewPlayerName('');\n      setShowCreateForm(false);\n      handleSelectPlayer(newPlayer);\n    } catch (error) {\n      console.error('Error creating player:', error);\n    }\n  };\n\n  if (loading) {\n    return (\n      <ScreenContainer className=\"flex items-center justify-center\">\n        <motion.div\n          className=\"text-4xl\"\n          animate={{ rotate: 360 }}\n          transition={{ duration: 1, repeat: Infinity, ease: 'linear' }}\n        >\n          ‚è≥\n        </motion.div>\n      </ScreenContainer>\n    );\n  }\n\n  return (\n    <ScreenContainer maxWidth=\"2xl\">\n      <Header\n        title=\"Ch·ªçn ng∆∞·ªùi ch∆°i\"\n        titleClassName=\"text-4xl\"\n      />\n\n      <AnimatePresence>\n        {!showCreateForm ? (\n          <motion.div\n            key=\"player-list\"\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            exit={{ opacity: 0 }}\n          >\n            {players.length > 0 ? (\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6\">\n                {players.map((player, index) => (\n                  <PlayerCard\n                    key={player.id}\n                    avatar={player.avatar}\n                    name={player.name}\n                    onClick={() => handleSelectPlayer(player)}\n                    delay={index * 0.1}\n                  />\n                ))}\n              </div>\n            ) : (\n              <motion.p\n                className=\"text-center text-gray-600 mb-6\"\n                initial={{ opacity: 0 }}\n                animate={{ opacity: 1 }}\n              >\n                Ch∆∞a c√≥ ng∆∞·ªùi ch∆°i n√†o. H√£y t·∫°o m·ªõi!\n              </motion.p>\n            )}\n\n            <div className=\"text-center\">\n              <Button\n                onClick={() => setShowCreateForm(true)}\n                variant=\"primary\"\n                size=\"lg\"\n              >\n                + T·∫°o ng∆∞·ªùi ch∆°i m·ªõi\n              </Button>\n            </div>\n          </motion.div>\n        ) : (\n          <motion.div\n            key=\"create-form\"\n            initial={{ opacity: 0, scale: 0.9 }}\n            animate={{ opacity: 1, scale: 1 }}\n            exit={{ opacity: 0, scale: 0.9 }}\n            className=\"max-w-md mx-auto\"\n          >\n            <Card>\n              <h2 className=\"text-2xl font-bold mb-4 text-gray-800\">\n                T·∫°o ng∆∞·ªùi ch∆°i m·ªõi\n              </h2>\n              <Input\n                label=\"T√™n ng∆∞·ªùi ch∆°i\"\n                value={newPlayerName}\n                onChange={(e) => setNewPlayerName(e.target.value)}\n                placeholder=\"Nh·∫≠p t√™n c·ªßa b·∫°n...\"\n                className=\"mb-4\"\n                onKeyPress={(e) => {\n                  if (e.key === 'Enter') {\n                    handleCreatePlayer();\n                  }\n                }}\n              />\n              <div className=\"flex gap-4\">\n                <Button\n                  onClick={handleCreatePlayer}\n                  variant=\"primary\"\n                  className=\"flex-1\"\n                  disabled={!newPlayerName.trim()}\n                >\n                  T·∫°o\n                </Button>\n                <Button\n                  onClick={() => {\n                    setShowCreateForm(false);\n                    setNewPlayerName('');\n                  }}\n                  variant=\"outline\"\n                  className=\"flex-1\"\n                >\n                  H·ªßy\n                </Button>\n              </div>\n            </Card>\n          </motion.div>\n        )}\n      </AnimatePresence>\n    </ScreenContainer>\n  );\n};\n\n"],"names":["PlayerCard","avatar","name","onClick","delay","className","props","jsx","motion","jsxs","Card","cn","SelectPlayerScreen","goToNext","useFlowStore","setCurrentPlayer","usePlayerStore","players","setPlayers","useState","showCreateForm","setShowCreateForm","newPlayerName","setNewPlayerName","loading","setLoading","useEffect","loadPlayers","allPlayers","getAllPlayers","error","handleSelectPlayer","player","soundService","handleCreatePlayer","newPlayer","savePlayer","ScreenContainer","Header","AnimatePresence","Input","e","Button","index"],"mappings":"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"}